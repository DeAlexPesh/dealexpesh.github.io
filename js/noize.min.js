var NoizeGen=function(){function e(){return"undefined"!=typeof window.AudioContext?new window.AudioContext:"undefined"!=typeof webkitAudioContext?new window.webkitAudioContext:"undefined"!=typeof window.mozAudioContext?new window.mozAudioContext:null}function t(e){i=document.getElementById(e),a=document.createElement("canvas"),r=document.createElement("canvas"),i.insertBefore(a,i.firstChild),a.width=window.innerWidth>>1,a.height=window.innerHeight>>1,a.style.width="100%",a.style.height="100%",a.style.background="#000"}function n(){u=d.createBufferSource(),f=d.createGain();for(var e=2*d.sampleRate,t=d.createBuffer(1,e,d.sampleRate),n=t.getChannelData(0),o=0;e>o;o++)n[o]=.11*(2*Math.random()-1);u.buffer=t,u.loop=!0,u.connect(f),f.connect(d.destination)}function o(){for(var e=a.getContext("2d",{alpha:!1}),t=r.getContext("2d",{alpha:!1}).createImageData(a.width,a.height),n=new Uint32Array(t.data.buffer),o=n.length-1;o--;)n[o]=Math.random()<.5?0:-1;e.putImageData(t,0,0)}var i,a,r;const d=e();var u,f,c=null;return t.prototype.start=function(e,t){return e="undefined"!=typeof e?e:30,t="undefined"!=typeof t?t:1,"null"!=c&&(c=setInterval(o,1e3/e),d&&(n(),f.gain.value=t,u.start(.1))),this},t.prototype.stop=function(e){return e="undefined"!=typeof e?e:.3,c&&(d&&(f.gain.exponentialRampToValueAtTime(.01,d.currentTime+e),u.stop(e)),clearInterval(c),c=null,a.getContext("2d").clearRect(0,0,a.width,a.height)),this},t}();